function keepFooterFixedToBottom(){$("#mainbody").css({"margin-bottom":$("#footer").height()+15+"px"}),$(window).resize(function(){$("#mainbody").css({"margin-bottom":$("#footer").height()+15+"px"})})}function checkEmptyValidation(){for(var a=document.forms.input["validations[]"],b=[],c=a.length,d=0;c>d;d++)a[d].checked&&b.push(a[d]);return 0===b.length?($("#validations_group").addClass("has-error"),$("#validation_alert").show(),!0):!1}function ChangeAdvParamsBtnText(){var a=document.getElementById("adv_params_btn");'<i class="fa fa-pencil-square-o"></i>&nbsp;&nbsp;Show Advanced Parameters'===a.innerHTML?(a.innerHTML='<i class="fa fa-pencil-square-o"></i>&nbsp;&nbsp;Hide Advanced Parameters',$("#adv_params").collapse("show"),$.cookie("GeneValidator_adv_params_status","open")):(a.innerHTML='<i class="fa fa-pencil-square-o"></i>&nbsp;&nbsp;Show Advanced Parameters',$("#adv_params").collapse("hide"),$.cookie("GeneValidator_adv_params_status","closed"))}function checkCollapseState(){if($.cookie("GeneValidator_adv_params_status")){var a=$.cookie("GeneValidator_adv_params_status");if("open"===a){var b=document.getElementById("adv_params_btn");b.innerHTML='<i class="fa fa-pencil-square-o"></i>&nbsp;&nbsp;Hide Advanced Parameters',$("#adv_params").addClass("in")}}}function initTableSorter(){$.tablesorter.addParser({id:"star_scores",is:function(){return!1},format:function(a,b,c,d){var e=$(c);return 2===d?e.attr("data-score")||a:a},parsed:!1,type:"numeric"}),$("table").tablesorter({headers:{2:{sorter:"star_scores"}}})}function removeEmptyColumns(){$("#sortable_table tr th").each(function(a){var b=$(this).parents("table").find("tr td:nth-child("+(a+1)+")");$(this).hasClass("chart-column")||""==$(this).text().trim()&&($(this).hide(),b.hide())})}$(document).ready(function(){checkCollapseState(),keepFooterFixedToBottom(),jQuery.validator.addMethod("checkInputType",function(a){if(types=[],">"===a.charAt(0)){seqs_array=a.split(">");for(var c=1;c<seqs_array.length;c++)if(lines=seqs_array[c].split("\n"),0!==lines.length&&(clean_lines=jQuery.grep(lines,function(a){return a}),0!==clean_lines.length)){clean_lines.shift(),seq=clean_lines.join("");var d=checkType(seq,.9);if(types.push(d),"protein"!==d&&"dna"!==d&&"rna"!==d)return!1}for(var e=types[0],c=0;c<types.length;c++)if(types[c]!==e)return!1;return!0}var d=checkType(a,.9);return"protein"!==d&&"dna"!==d&&"rna"!==d?!1:!0},"* The Input must be either genetic or protein Sequence(s). Please ensure that your sequences do not contains any non-letter character(s). If there are multiple sequences, ensure that they are all of one type. "),$("#input").validate({rules:{seq:{minlength:5,required:!0,checkInputType:!0},"validations[]":{required:!0}},highlight:function(a){$(a).closest(".form-group").addClass("has-error")},unhighlight:function(a){$(a).closest(".form-group").removeClass("has-error")},errorElement:"span",errorClass:"help-block",errorPlacement:function(a,b){if("validations_group"===b.parent().parent().attr("id")){var c=document.getElementById("lastValidation");a.insertAfter(c)}else b.parent(".input-group").length?a.insertAfter(b.parent()):a.insertAfter(b)},submitHandler:function(){$("#spinner").modal({backdrop:"static",keyboard:"false"}),$.ajax({type:"POST",url:"input",data:$("#input").serialize(),success:function(a){$("#results_box").show(),$("#output").html(a),initTableSorter(),$("[data-toggle='tooltip']").tooltip(),removeEmptyColumns(),$("#spinner").modal("hide")},error:function(a){if(500==a.status){var c=a.responseText;$("#results_box").show(),$("#output").html(c),$("#spinner").modal("hide")}else{var c=a.responseText;$("#results_box").show(),$("#output").html(c),$("#spinner").modal("hide")}}})}}),$(document).bind("keydown",function(a){a.ctrlKey&&13===a.keyCode&&$("#input").trigger("submit")})}),checkType=function(a,b,c,d){void 0===b&&(b=.9),void 0===c&&(c=1e4),void 0===d&&(d=1);var e=a.slice(d-1,c),f=e.length,g=(e.match(/[ACG]/gi)||[]).length/f,h=(e.match(/[T]/gi)||[]).length/f,i=(e.match(/[U]/gi)||[]).length/f,j=(e.match(/[ARNDCQEGHILKMFPSTWYV\*]/gi)||[]).length/f;return g+h>=b||g+i>=b?h>=i?"dna":i>=h?"rna":"dna":j>=b?"protein":void 0};